---
all:
  hosts:
    hypervisor:
      ansible_host: cylon
      bridges:
        - name: eci
          ip: 192.168.5.1/24
          interface: enp7s0
      libvirt_pool_path: /var/eci/vm
      libvirt_networks:
        - name: eci-nat
          cidr: 192.168.101.0/24
          forward_mode: nat
          ip: 192.168.101.1
        - name: eci-main
          cidr: 192.168.6.0/24
      libvirt_isos:
        - name: rhel91
          #url: https://developers.redhat.com/content-gateway/file/rhel/9.1/rhel-baseos-9.1-x86_64-dvd.iso
          url: https://download.rockylinux.org/pub/rocky/9/isos/x86_64/Rocky-9.1-x86_64-dvd.iso
      libvirt_vms:
        - name: bootinfra
          iso: rhel91
          memory: 2048
          cpu: 2
          disk: 50
          networks:
            - name: eci-nat
              ip: 192.168.100.1
          #passwd: $6$8Js/feNOYaM7iaMy$dFkIcAUfKyFWwgWzSKoTGf2h90fPEvr0Hyilx4udLzU4EGf6B/kFUK3OFkcPvnyk5l9wc2sc23/34vBx9sba./
          sshkey: "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIMPkccS+SKCZEWGJzH7ew0eNPItvqeGFpOhZprmL9owO"
    control:
      ansible_host: eci-control
      ansible_user: root
      eci_configdir: /etc/eci
      bootinfra_ip: 192.168.5.1
      tftpboot_enabled: true
      tftpboot_download_enable: false
      tftpboot_iso: 
        - name: rhel-install
          url: http://192.168.150.237:8000/rhel-baseos-9.1-x86_64-boot.iso
          files:
            - images/pxeboot/vmlinuz
            - images/pxeboot/initrd.img
            - images/install.img
            - EFI/BOOT/BOOTX64.EFI
            - EFI/BOOT/grubx64.efi
          shim: BOOTX64.EFI
          kernel: vmlinuz
          kargs: "inst.stage2=http://{{ bootinfra_ip }}/rhel-install rd.live.check"
          initrd:
            - initrd.img
          rootfs: install.img
          rootfs_dir: images/
        - name: simplified-installer
          url: http://192.168.150.237:8000/d994f891-a5ab-4742-ab1e-c213f2948501-simplified-installer.iso
          files:
            - images/pxeboot/vmlinuz
            - images/pxeboot/initrd.img
            - disk.img.xz
            - EFI/BOOT/grubx64.efi
            - EFI/BOOT/BOOTX64.EFI
          shim: BOOTX64.EFI
          kernel: vmlinuz
          kargs: rd.neednet=1 coreos.inst.crypt_root=1 coreos.inst.install_dev=/dev/vda coreos.inst.image_url=http://{{ bootinfra_ip }}/simplified-installer/disk.img.xz coreos.inst.insecure fdo.manufacturing_server_url=http://192.168.100.177:8080 fdo.diun_pub_key_insecure=true
          rootfs: disk.img.xz
          initrd:
            - initrd.img
      dhcp_enabled: true
      dhcp_hosts:
        - name: dhcp-test
          mac: 52:54:00:29:24:96
          ip: 192.168.5.50
          boot: fedora-coreos
      dhcp_range: 192.168.5.0,static
      dns_enabled: true
      dns_static:
        - name: eci.rh-intel.com
          ip: 192.168.1.18
        - name: apps.eci.rh-intel.com
          ip: 192.168.1.18
